{% with errors = get_flashed_messages(category_filter=['error']) %}
{% if errors %}
<dialog id="errorDialog" open>
{%- for msg in errors %}
    <p>{{msg}}</p>
    {% endfor -%}
    <button id="closeErrorDialogBtn">Verstanden</button>
</dialog>
{% endif %}
{% endwith %}
{% block errorMessages%}
{% endblock %}

{% if auth_token %}
<script>
    localStorage.setItem('auth_token', '{{auth_token}}');
    const expDate = new Date();
    expDate.setTime(expDate.getTime() + 3*24*60*60*1000);
    document.cookie = 'auth_token={{ auth_token }};expires='.concat(expDate.toUTCString()).concat(';path=/');
</script>
{% endif %}